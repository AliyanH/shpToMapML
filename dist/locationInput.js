/*! @maps4html/web-map-custom-element 01-10-2023 */

class LocationInput{constructor(i,t,s,e,n,a,o,r){this.name=i,this.position=t,this.axis=s,e||!s||["i","j"].includes(s)?this.units=e:this.units=M.axisToCS(s).toLowerCase(),this.min=n,this.max=a,this.rel=o,this.layer=r}validateInput(){if(!this.name||!this.axis)return!1;if(("i"===this.axis||"j"===this.axis)&&!["map","tile"].includes(this.units))return!1;if(this.units){let i=M.axisToCS(this.axis);if("string"==typeof i&&i.toUpperCase()!==this.units.toUpperCase())return!1}return!0}_TCRSToPCRS(i,t){var s=this.layer._map.options.crs;return s.transformation.untransform(i,s.scale(t))}getValue(i=void 0,t=void 0){if(void 0===i&&(i=this.layer._map.getZoom()),void 0===t&&(t=this.layer._map.getPixelBounds()),"pcrs"===this.units||"gcrs"===this.units)switch(this.axis){case"longitude":case"easting":if(!this.position)return this._TCRSToPCRS(t.min,i).x;if(this.position.match(/.*?-left/i))return this._TCRSToPCRS(t.min,i).x;if(this.position.match(/.*?-right/i))return this._TCRSToPCRS(t.max,i).x;break;case"latitude":case"northing":if(!this.position)return this._TCRSToPCRS(t.min,i).y;if(this.position.match(/top-.*?/i))return this._TCRSToPCRS(t.min,i).y;if(this.position.match(/bottom-.*?/i))return this._TCRSToPCRS(t.max,i).y}else{if("tilematrix"===this.units){var e=this.layer._map.getCenter();const a=this.layer._templatedLayer._templates[0].layer;var e=a._getTiledPixelBounds(e),n=a._pxBoundsToTileRange(e);let s=[];for(let t=n.min.y;t<=n.max.y;t++)for(let i=n.min.x;i<=n.max.x;i++){const o=new L.Point(i,t);o.z=a._tileZoom,s.push(o)}return s}if(("tile"===this.units||"map"===this.units)&&this["click"+this.axis])return this["click"+this.axis]}}}export{LocationInput};
//# sourceMappingURL=locationInput.js.map