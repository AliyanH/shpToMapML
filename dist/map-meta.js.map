{"version":3,"file":"map-meta.js","sources":["../src/map-meta.js"],"sourcesContent":["export class MapMeta extends HTMLElement {\n  static get observedAttributes() {\n    return ['name', 'content'];\n  }\n  get name() {\n    return this.getAttribute('name');\n  }\n  set name(val) {\n    if (['projection', 'extent', 'cs', 'zoom'].includes(val)) {\n      this.setAttribute('name', val);\n    }\n  }\n  get content() {\n    return this.getAttribute('content');\n  }\n  set content(val) {\n    // improve this\n    if (\n      this.name === 'cs' &&\n      !['tcrs', 'tilematrix', 'pcrs', 'gcrs', 'map', 'tile'].includes(val)\n    ) {\n      return;\n    }\n    this.setAttribute('content', val);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    switch (name) {\n      case 'name': {\n        if (oldValue !== newValue) {\n          // handle side effects\n        }\n        break;\n      }\n      case 'content': {\n        if (oldValue !== newValue) {\n          // handle side effects\n        }\n        break;\n      }\n    }\n  }\n  constructor() {\n    // Always call super first in constructor\n    super();\n  }\n  connectedCallback() {\n    console.log('map-meta connected');\n  }\n  disconnectedCallback() {}\n\n  zoomTo() {\n    if (this.name === 'extent') {\n      console.log('can zoom');\n      let extent = M._metaContentToObject(this.content);\n      console.log(extent);\n      let bounds = L.bounds(\n        L.point([extent['top-left-longitude'], extent['top-left-latitude']]),\n        L.point([\n          extent['bottom-right-longitude'],\n          extent['bottom-right-latitude']\n        ])\n      );\n      console.log(bounds);\n      document.querySelector('mapml-viewer')._map.fitBounds(bounds);\n    }\n  }\n}\n"],"names":["MapMeta","HTMLElement","observedAttributes","name","this","getAttribute","val","includes","setAttribute","content","attributeChangedCallback","oldValue","newValue","constructor","super","connectedCallback","console","log","disconnectedCallback","zoomTo","bounds","extent","M","_metaContentToObject","L","point","document","querySelector","_map","fitBounds"],"mappings":";;MAAaA,gBAAgBC,YAC3BC,gCACE,MAAO,CAAC,OAAQ,WAElBC,WACE,OAAOC,KAAKC,aAAa,QAE3BF,SAASG,GACH,CAAC,aAAc,SAAU,KAAM,QAAQC,SAASD,IAClDF,KAAKI,aAAa,OAAQF,GAG9BG,cACE,OAAOL,KAAKC,aAAa,WAE3BI,YAAYH,GAGM,OAAdF,KAAKD,OACJ,CAAC,OAAQ,aAAc,OAAQ,OAAQ,MAAO,QAAQI,SAASD,IAIlEF,KAAKI,aAAa,UAAWF,GAG/BI,yBAAyBP,EAAMQ,EAAUC,GAC/BT,EAeVU,cAEEC,QAEFC,oBACEC,QAAQC,IAAI,sBAEdC,wBAEAC,SACE,IAIMC,EAJY,WAAdhB,KAAKD,OACPa,QAAQC,IAAI,YACRI,EAASC,EAAEC,qBAAqBnB,KAAKK,SACzCO,QAAQC,IAAII,GACRD,EAASI,EAAEJ,OACbI,EAAEC,MAAM,CAACJ,EAAO,sBAAuBA,EAAO,uBAC9CG,EAAEC,MAAM,CACNJ,EAAO,0BACPA,EAAO,4BAGXL,QAAQC,IAAIG,GACZM,SAASC,cAAc,gBAAgBC,KAAKC,UAAUT,YAhE/CpB"}